{"ast":null,"code":"import { catchError, of } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-toastr\";\nimport * as i2 from \"../services/calculadora-cdb.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CalculadoraCdbComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h3\");\n    i0.ɵɵtext(2, \"Resultados:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Resultado Bruto: \", i0.ɵɵpipeBind1(5, 2, ctx_r0.resultadoBruto), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Resultado L\\u00EDquido: \", i0.ɵɵpipeBind1(8, 4, ctx_r0.resultadoLiquido), \"\");\n  }\n}\nclass CalculadoraCdbComponent {\n  constructor(toastr, calculadoraCdbService) {\n    this.forecasts = [];\n    this.valor = 0;\n    this.prazo = 0;\n    this.resultadoBruto = 0;\n    this.resultadoLiquido = 0;\n    this.calculadoraCdbService = calculadoraCdbService;\n    this.toastr = toastr;\n  }\n  calcularCDB() {\n    if (!this.camposValidos()) return;\n    this.calculadoraCdbService.calcular(this.valor, this.prazo).pipe(catchError(error => {\n      this.toastr.error('', 'Erro ao calcular');\n      return of(null);\n    })).subscribe(data => {\n      console.log(data);\n      this.resultadoBruto = data.data.valorBruto;\n      this.resultadoLiquido = data.data.valorLiquido;\n    });\n  }\n  camposValidos() {\n    if (this.prazo < 1) {\n      this.toastr.warning(\"Prazo deve ser maior que 1\");\n      return false;\n    }\n    if (this.valor < 0) {\n      this.toastr.warning(\"Valor deve ser positivo\");\n      return false;\n    }\n    return true;\n  }\n}\nCalculadoraCdbComponent.ɵfac = function CalculadoraCdbComponent_Factory(t) {\n  return new (t || CalculadoraCdbComponent)(i0.ɵɵdirectiveInject(i1.ToastrService), i0.ɵɵdirectiveInject(i2.CalculadoraCdbService));\n};\nCalculadoraCdbComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CalculadoraCdbComponent,\n  selectors: [[\"app-calculadora-cdb\"]],\n  decls: 17,\n  vars: 3,\n  consts: [[1, \"container\", \"my-5\"], [1, \"row\", \"justify-content-center\", \"align-items-center\"], [1, \"col-sm-4\", \"col-md-4\", \"col-lg-4\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"valor\"], [\"type\", \"number\", \"id\", \"valor\", \"name\", \"valor\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"prazo\"], [\"type\", \"text\", \"id\", \"prazo\", \"name\", \"prazo\", \"min\", \"2\", \"onkeyup\", \"onlyNumbers(this)\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"my-2\"], [\"class\", \"result\", 4, \"ngIf\"], [1, \"result\"]],\n  template: function CalculadoraCdbComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\");\n      i0.ɵɵtext(4, \"C\\u00E1lculo do CDB\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function CalculadoraCdbComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.calcularCDB();\n      });\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"label\", 5);\n      i0.ɵɵtext(8, \"Valor Monet\\u00E1rio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function CalculadoraCdbComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.valor = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 7);\n      i0.ɵɵtext(12, \"Prazo em Meses:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function CalculadoraCdbComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.prazo = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"button\", 9);\n      i0.ɵɵtext(15, \"Calcular\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(16, CalculadoraCdbComponent_div_16_Template, 9, 6, \"div\", 10);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.valor);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.prazo);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.resultadoBruto && ctx.resultadoLiquido);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i3.CurrencyPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { CalculadoraCdbComponent };","map":{"version":3,"mappings":"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","names":["catchError","of","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","ctx_r0","resultadoBruto","resultadoLiquido","CalculadoraCdbComponent","constructor","toastr","calculadoraCdbService","forecasts","valor","prazo","calcularCDB","camposValidos","calcular","pipe","error","subscribe","data","console","log","valorBruto","valorLiquido","warning","ɵɵdirectiveInject","i1","ToastrService","i2","CalculadoraCdbService","selectors","decls","vars","consts","template","CalculadoraCdbComponent_Template","rf","ctx","ɵɵlistener","CalculadoraCdbComponent_Template_form_ngSubmit_5_listener","CalculadoraCdbComponent_Template_input_ngModelChange_9_listener","$event","CalculadoraCdbComponent_Template_input_ngModelChange_13_listener","ɵɵtemplate","CalculadoraCdbComponent_div_16_Template","ɵɵproperty"],"sourceRoot":"","sources":["C:\\Git\\CalculadoraCDB\\CalculadoraCDB\\ClientApp\\src\\app\\calculadora-cdb\\calculadora-cdb.component.ts","C:\\Git\\CalculadoraCDB\\CalculadoraCDB\\ClientApp\\src\\app\\calculadora-cdb\\calculadora-cdb.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { CalculadoraCdbService } from '../services/calculadora-cdb.service';\r\nimport { catchError, of } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-calculadora-cdb',\r\n  templateUrl: './calculadora-cdb.component.html',\r\n  styleUrls: ['./calculadora-cdb.component.css']\r\n})\r\nexport class CalculadoraCdbComponent {\r\n  public forecasts: WeatherForecast[] = [];\r\n\r\n  valor: number = 0;\r\n  prazo: number = 0;\r\n  resultadoBruto: number = 0;\r\n  resultadoLiquido: number = 0;\r\n\r\n  private toastr: ToastrService;\r\n  private calculadoraCdbService: CalculadoraCdbService;\r\n\r\n  constructor(toastr: ToastrService,\r\n              calculadoraCdbService: CalculadoraCdbService) {\r\n    this.calculadoraCdbService = calculadoraCdbService;\r\n    this.toastr = toastr;\r\n  }\r\n\r\n\r\n  calcularCDB() {\r\n    if (!this.camposValidos()) return;\r\n\r\n    this.calculadoraCdbService.calcular(this.valor, this.prazo)\r\n      .pipe(\r\n        catchError((error) => {\r\n          this.toastr.error('', 'Erro ao calcular');\r\n          return of(null);\r\n        })\r\n      )\r\n      .subscribe((data: any) => {\r\n        console.log(data)\r\n        this.resultadoBruto = data.data.valorBruto;\r\n        this.resultadoLiquido = data.data.valorLiquido;\r\n      });\r\n  }\r\n\r\n  camposValidos(): boolean {\r\n    if (this.prazo < 1) {\r\n      this.toastr.warning(\"Prazo deve ser maior que 1\");\r\n      return false;\r\n    }\r\n\r\n    if (this.valor < 0) {\r\n      this.toastr.warning(\"Valor deve ser positivo\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"container my-5\">\r\n  <div class=\"row justify-content-center align-items-center\">\r\n    <div class=\"col-sm-4 col-md-4 col-lg-4\">\r\n      <h2>Cálculo do CDB</h2>\r\n      <form (ngSubmit)=\"calcularCDB()\">\r\n        <div class=\"form-group\">\r\n          <label for=\"valor\">Valor Monetário:</label>\r\n          <input type=\"number\" class=\"form-control\" id=\"valor\" [(ngModel)]=\"valor\" name=\"valor\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"prazo\">Prazo em Meses:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"prazo\" [(ngModel)]=\"prazo\" name=\"prazo\" min=\"2\" onkeyup=\"onlyNumbers(this)\" required>\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-primary my-2\">Calcular</button>\r\n      </form>\r\n\r\n      <div class=\"result\" *ngIf=\"resultadoBruto && resultadoLiquido\">\r\n        <h3>Resultados:</h3>\r\n        <p>Resultado Bruto: {{ resultadoBruto | currency }}</p>\r\n        <p>Resultado Líquido: {{ resultadoLiquido | currency }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}